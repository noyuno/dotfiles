#!/bin/bash -e

total=$(ls -aU1 | wc -l)
files=$(command ls -aFU1 | command grep -v /)
filescount=$(echo "$files" | command wc -l)
fileshiddencount=$(echo "$files" | command grep '^\.' | command wc -l)
filesnormalcount=$((filescount - fileshiddencount))
dirs=$(command ls -aFU1 | command grep /)
dirscount=$(echo "$dirs" | command wc -l)
dirshiddencount=$(echo "$dirs" | command grep '^\.' | command wc -l)
dirsnormalcount=$((dirscount - dirshiddencount))
printf "%d (\e[32m%d\e[m \e[30m%d\e[m) " $filescount $filesnormalcount $fileshiddencount
printf "\e[34m%d (\e[32m%d\e[m \e[30m%d\e[34m) \e[m" $dirscount $dirsnormalcount $dirshiddencount
printf "%d (\e[32m%d\e[m \e[30m%d\e[m) " $total \
    $((filesnormalcount + dirsnormalcount)) $((fileshiddencount + dirshiddencount))
command ls -al . | awk '{ total += $5 }; END { printf("%dMB\n", int(total/1024/1024)) }'

