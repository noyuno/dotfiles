#!/bin/bash -e

. $HOME/dotfiles/bin/dffunc

# https://github.com/neovim/neovim/wiki/Building-Neovim
aptinstall libtool libtool-bin autoconf automake cmake g++ pkg-config unzip
src=$HOME/neovim
if [ ! -d $src ]; then
    git clone --depth 1 https://github.com/neovim/neovim.git $src
else
    pushd $src
        git pull
    popd
fi
cd $src
rm -fr build
make clean
make -j4 CMAKE_BUILD_TYPE=RelWithDebInfo
sudo make install

sudo pip install neovim
sudo pip3 install neovim

