#!/bin/bash
before=$(df -h | awk '$6=="/" { print $5 } ' | tr -d '%')
df -h | awk '$6=="/" { print $0 } '
container=$(docker ps -aq --filter 'status=exited')
[ "$container" ] && docker rm $container
images=$(docker images | awk '/^<none>/ { print $3 }')
[ "$images" ] && docker rmi $images
sync
after=$(df -h | awk '$6=="/" { print $5 } ' | tr -d '%')
df -h | awk '$6=="/" { print $0 } '

echo "Decreased $((before - after))% of storage."
echo "To remove all image, type docker system prune -a -f"

